identity:
  name: "upload_file"
  author: "sawyer-shi"
  label:
    en_US: "Upload File to OSS"
    zh_Hans: "上传文件到OSS返回URL"
    pt_BR: "Enviar Arquivo para OSS"
  tags:
    - utilities
    - productivity
description:
  human:
    en_US: "Upload a local file to Alibaba Cloud OSS and return the file URL"
    zh_Hans: "上传本地文件到阿里云OSS并返回文件URL"
    pt_BR: "Enviar um arquivo local para o Alibaba Cloud OSS e retornar a URL do arquivo"
  llm: "Upload a local file to Alibaba Cloud OSS and return the file URL"
parameters:
  - name: endpoint
    type: string
    required: true
    label:
      en_US: "Endpoint"
      zh_Hans: "Endpoint"
      pt_BR: "Endpoint"
    human_description:
      en_US: "Alibaba Cloud OSS Endpoint (e.g. oss-cn-beijing.aliyuncs.com)"
      zh_Hans: "阿里云OSS Endpoint（例如：oss-cn-beijing.aliyuncs.com）"
      pt_BR: "Endpoint do Alibaba Cloud OSS (ex: oss-cn-beijing.aliyuncs.com)"
    llm_description: "Alibaba Cloud OSS Endpoint"
    form: form
  - name: bucket
    type: string
    required: true
    label:
      en_US: "Bucket"
      zh_Hans: "Bucket"
      pt_BR: "Bucket"
    human_description:
      en_US: "Alibaba Cloud OSS Bucket name"
      zh_Hans: "阿里云OSS Bucket名称"
      pt_BR: "Nome do Bucket do Alibaba Cloud OSS"
    llm_description: "Alibaba Cloud OSS Bucket name"
    form: form
  - name: access_key_id
    type: string
    required: true
    label:
      en_US: "AccessKey ID"
      zh_Hans: "AccessKey ID"
      pt_BR: "ID da AccessKey"
    human_description:
      en_US: "Your Alibaba Cloud AccessKey ID"
      zh_Hans: "您的阿里云AccessKey ID"
      pt_BR: "Seu ID da AccessKey do Alibaba Cloud"
    llm_description: "Alibaba Cloud AccessKey ID"
    form: form
  - name: access_key_secret
    type: string
    required: true
    sensitive: true
    label:
      en_US: "AccessKey Secret"
      zh_Hans: "AccessKey Secret"
      pt_BR: "Segredo da AccessKey"
    human_description:
      en_US: "Your Alibaba Cloud AccessKey Secret"
      zh_Hans: "您的阿里云AccessKey Secret"
      pt_BR: "Seu Segredo da AccessKey do Alibaba Cloud"
    llm_description: "Alibaba Cloud AccessKey Secret"
    form: form
  - name: file
    type: file
    required: true
    label:
      en_US: File
      zh_Hans: 文件
      pt_BR: Arquivo
    human_description:
      en_US: "The file to upload"
      zh_Hans: "要上传的文件"
      pt_BR: "O arquivo a ser enviado"
    llm_description: "The file to upload"
    form: llm
  - name: directory
    type: string
    required: true
    label:
      en_US: Directory
      zh_Hans: 一级目录
      pt_BR: Diretório
    human_description:
      en_US: "The first-level directory name under the bucket"
      zh_Hans: "Bucket下的一级目录名称"
      pt_BR: "O diretório de primeiro nível sob o bucket"
    llm_description: "The first-level directory name under the bucket"
    form: llm
  
  - name: filename
    type: string
    required: false
    label:
      en_US: File Name
      zh_Hans: 文件名
      pt_BR: Nome do Arquivo
    human_description:
      en_US: "The filename to use when storing the file in OSS (optional, default is the original filename of the uploaded file)"
      zh_Hans: "在OSS中存储文件时使用的文件名（可选，默认为用户上传的原始文件名）"
      pt_BR: "O nome do arquivo a ser usado ao armazenar o arquivo no OSS (opcional, o padrão é o nome original do arquivo carregado)"
    llm_description: "The filename to use when storing the file in OSS, optional, default is the original filename of the uploaded file"
    form: llm
  - name: filename_mode
    type: select
    required: false
    label:
      en_US: Filename Mode
      zh_Hans: 文件名组成
      pt_BR: Modo de Nome do Arquivo
    human_description:
      en_US: "The way to compose the filename stored in OSS. 'filename': use the original filename; 'filename_timestamp': use the original filename plus timestamp"
      zh_Hans: "存储在OSS上的文件名组成方式。'filename'：使用原始文件名；'filename_timestamp'：使用原始文件名加上时间戳"
      pt_BR: "A forma de compor o nome do arquivo armazenado no OSS. 'filename': usar o nome original do arquivo; 'filename_timestamp': usar o nome original do arquivo mais carimbo de data/hora"
    llm_description: "The way to compose the filename stored in OSS"
    form: llm
    options:
      - label:
          en_US: "Filename"
          zh_Hans: "纯文件名"
          pt_BR: "Nome do Arquivo"
        value: "filename"
      - label:
          en_US: "Filename + Timestamp"
          zh_Hans: "文件名+时间戳数字"
          pt_BR: "Nome do Arquivo + Carimbo de Data/Hora"
        value: "filename_timestamp"
    default: "filename"
  - name: directory_mode
    type: select
    required: false
    label:
      en_US: Parent Directory Mode
      zh_Hans: 文件上级目录结构
      pt_BR: Modo de Diretório Pai
    human_description:
      en_US: "Directory structure mode for storing files. 'no_subdirectory': store directly in the specified directory; 'yyyy_mm_dd_hierarchy': store in date hierarchy (year/month/day); 'yyyy_mm_dd_combined': store in combined date directory (yyyymmdd)"
      zh_Hans: "存储文件的目录结构模式。'no_subdirectory'：直接存储在指定目录；'yyyy_mm_dd_hierarchy'：按日期层级存储（年/月/日）；'yyyy_mm_dd_combined'：按合并日期目录存储（年月日）"
      pt_BR: "Modo de estrutura de diretório para armazenar arquivos. 'no_subdirectory': armazenar diretamente no diretório especificado; 'yyyy_mm_dd_hierarchy': armazenar em hierarquia de data (ano/mês/dia); 'yyyy_mm_dd_combined': armazenar em diretório de data combinada (yyyymmdd)"
    llm_description: "Directory structure mode for storing files"
    form: llm
    options:
      - label:
          en_US: "No Subdirectory"
          zh_Hans: "无子目录"
          pt_BR: "Sem Subdiretório"
        value: "no_subdirectory"
      - label:
          en_US: "Year/Month/Day Hierarchy"
          zh_Hans: "年月日层级子目录"
          pt_BR: "Hierarquia Ano/Mês/Dia"
        value: "yyyy_mm_dd_hierarchy"
      - label:
          en_US: "Combined Date Directory"
          zh_Hans: "年月日一体子目录"
          pt_BR: "Diretório de Data Combinada"
        value: "yyyy_mm_dd_combined"
    default: "no_subdirectory"
extra:
  python:
    source: tools/upload_file.py