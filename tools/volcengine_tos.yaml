identity:
  name: "volcengine_tos"
  author: "sawyer-shi"
  label:
    en_US: "Volcengine TOS"
    zh_Hans: "火山引擎TOS"
    pt_BR: "Volcengine TOS"
description:
  human:
    en_US: "Upload files to Volcengine TOS and get the URL, or download files through URL or object key"
    zh_Hans: "上传文件至火山引擎TOS并返回URL，或通过URL或对象键下载文件"
    pt_BR: "Faça upload de arquivos para o Volcengine TOS e obtenha a URL, ou baixe arquivos por meio de URL ou chave de objeto"
  llm: "This tool allows users to upload files to Volcengine TOS and get the URL, or download files through URL or object key. For upload, provide file and configuration parameters. For download, provide either URL or object key."
parameters:
  # 操作类型
  - name: action
    type: string
    required: true
    default: "upload"
    label:
      en_US: "Action"
      zh_Hans: "操作类型"
      pt_BR: "Ação"
    human_description:
      en_US: "Specify whether to upload or download a file"
      zh_Hans: "指定是上传还是下载文件"
      pt_BR: "Especifique se deseja enviar ou baixar um arquivo"
    llm_description: "Specify the action type. Use 'upload' to upload a file to Volcengine TOS, use 'download' to download a file from Volcengine TOS"
    enum:
      - "upload"
      - "download"
    enum_labels:
      en_US:
        - "Upload"
        - "Download"
      zh_Hans:
        - "上传"
        - "下载"
      pt_BR:
        - "Upload"
        - "Download"
    form: select
  
  # 通用认证参数
  - name: endpoint
    type: string
    required: true
    label:
      en_US: "Endpoint"
      zh_Hans: "端点地址"
      pt_BR: "Endpoint"
    human_description:
      en_US: "The endpoint URL of your Volcengine TOS service"
      zh_Hans: "火山引擎TOS服务的端点URL"
      pt_BR: "A URL do endpoint do seu serviço Volcengine TOS"
    llm_description: "The endpoint URL of the Volcengine TOS service, e.g., https://tos-s3-cn-beijing.volces.com"
    form: input
  
  - name: bucket
    type: string
    required: true
    label:
      en_US: "Bucket"
      zh_Hans: "存储桶名称"
      pt_BR: "Bucket"
    human_description:
      en_US: "The name of your Volcengine TOS bucket"
      zh_Hans: "火山引擎TOS存储桶名称"
      pt_BR: "O nome do seu bucket Volcengine TOS"
    llm_description: "The name of the Volcengine TOS bucket where files will be uploaded or downloaded from"
    form: input
  
  - name: access_key_id
    type: string
    required: true
    label:
      en_US: "Access Key ID"
      zh_Hans: "访问密钥ID"
      pt_BR: "ID da Chave de Acesso"
    human_description:
      en_US: "Your Volcengine access key ID"
      zh_Hans: "火山引擎访问密钥ID"
      pt_BR: "Seu ID da chave de acesso do Volcengine"
    llm_description: "Your Volcengine access key ID for authentication"
    form: input
  
  - name: access_key_secret
    type: string
    required: true
    sensitive: true
    label:
      en_US: "Access Key Secret"
      zh_Hans: "访问密钥密钥"
      pt_BR: "Segredo da Chave de Acesso"
    human_description:
      en_US: "Your Volcengine access key secret"
      zh_Hans: "火山引擎访问密钥密钥"
      pt_BR: "Seu segredo da chave de acesso do Volcengine"
    llm_description: "Your Volcengine access key secret for authentication"
    form: input
  
  # 上传相关参数
  - name: file
    type: file
    required: false
    condition:
      _if: "{{parameters.action}}"
      _equals: "upload"
    label:
      en_US: "File"
      zh_Hans: "文件"
      pt_BR: "Arquivo"
    human_description:
      en_US: "The file to upload. Required when action is 'upload'"
      zh_Hans: "要上传的文件。当操作类型为'upload'时必需"
      pt_BR: "O arquivo a ser carregado. Obrigatório quando a ação é 'upload'"
    llm_description: "The file object to be uploaded to Volcengine TOS. Required when action is 'upload'"
    form: file
  
  - name: directory
    type: string
    required: false
    condition:
      _if: "{{parameters.action}}"
      _equals: "upload"
    label:
      en_US: "Directory"
      zh_Hans: "目录"
      pt_BR: "Diretório"
    human_description:
      en_US: "The directory in the bucket where the file will be stored"
      zh_Hans: "文件将存储在存储桶中的目录路径"
      pt_BR: "O diretório no bucket onde o arquivo será armazenado"
    llm_description: "Optional directory path within the bucket to store the uploaded file"
    form: input
  
  - name: filename
    type: string
    required: false
    condition:
      _if: "{{parameters.action}}"
      _equals: "upload"
    label:
      en_US: "Filename"
      zh_Hans: "文件名"
      pt_BR: "Nome do arquivo"
    human_description:
      en_US: "Custom filename for the uploaded file. If not provided, the original filename will be used"
      zh_Hans: "上传文件的自定义文件名。如果未提供，将使用原始文件名"
      pt_BR: "Nome personalizado para o arquivo carregado. Se não for fornecido, o nome original do arquivo será usado"
    llm_description: "Optional custom filename for the uploaded file. If not provided, the original filename will be used"
    form: input
  
  - name: directory_mode
    type: string
    required: false
    default: "no_subdirectory"
    condition:
      _if: "{{parameters.action}}"
      _equals: "upload"
    label:
      en_US: "Directory Mode"
      zh_Hans: "目录模式"
      pt_BR: "Modo de diretório"
    human_description:
      en_US: "How to organize files in directories"
      zh_Hans: "如何在目录中组织文件"
      pt_BR: "Como organizar arquivos em diretórios"
    llm_description: "Specify how to organize files in directories. 'no_subdirectory' for no subdirectories, 'yyyy_mm_dd_combined' for a single date directory, 'yyyy_mm_dd_hierarchy' for nested date directories"
    enum:
      - "no_subdirectory"
      - "yyyy_mm_dd_combined"
      - "yyyy_mm_dd_hierarchy"
    enum_labels:
      en_US:
        - "No subdirectory"
        - "Date combined"
        - "Date hierarchy"
      zh_Hans:
        - "无子目录"
        - "日期一体"
        - "日期层级"
      pt_BR:
        - "Sem subdiretório"
        - "Data combinada"
        - "Hierarquia de datas"
    form: select
  
  - name: filename_mode
    type: string
    required: false
    default: "filename"
    condition:
      _if: "{{parameters.action}}"
      _equals: "upload"
    label:
      en_US: "Filename Mode"
      zh_Hans: "文件名模式"
      pt_BR: "Modo de nome de arquivo"
    human_description:
      en_US: "How to generate filenames"
      zh_Hans: "如何生成文件名"
      pt_BR: "Como gerar nomes de arquivo"
    llm_description: "Specify how to generate filenames. 'filename' for original filename, 'filename_timestamp' for filename with timestamp"
    enum:
      - "filename"
      - "filename_timestamp"
    enum_labels:
      en_US:
        - "Original filename"
        - "Filename with timestamp"
      zh_Hans:
        - "原始文件名"
        - "带时间戳的文件名"
      pt_BR:
        - "Nome original do arquivo"
        - "Nome do arquivo com carimbo de data/hora"
    form: select
  
  - name: use_https
    type: boolean
    required: false
    default: true
    condition:
      _if: "{{parameters.action}}"
      _equals: "upload"
    label:
      en_US: "Use HTTPS"
      zh_Hans: "使用HTTPS"
      pt_BR: "Usar HTTPS"
    human_description:
      en_US: "Whether to use HTTPS for the generated URL"
      zh_Hans: "是否为生成的URL使用HTTPS"
      pt_BR: "Se deve usar HTTPS para a URL gerada"
    llm_description: "Specify whether to use HTTPS protocol for the generated file URL"
    form: switch
  
  # 下载相关参数
  - name: url
    type: string
    required: false
    condition:
      _if: "{{parameters.action}}"
      _equals: "download"
    label:
      en_US: "URL"
      zh_Hans: "文件URL"
      pt_BR: "URL"
    human_description:
      en_US: "The URL of the file to download. Either URL or object_key must be provided when action is 'download'"
      zh_Hans: "要下载的文件URL。当操作类型为'download'时，必须提供URL或对象键"
      pt_BR: "A URL do arquivo para download. URL ou object_key devem ser fornecidos quando a ação for 'download'"
    llm_description: "The URL of the file to download from Volcengine TOS. Required if object_key is not provided when action is 'download'"
    form: input
  
  - name: object_key
    type: string
    required: false
    condition:
      _if: "{{parameters.action}}"
      _equals: "download"
    label:
      en_US: "Object Key"
      zh_Hans: "对象键"
      pt_BR: "Chave de objeto"
    human_description:
      en_US: "The object key of the file to download. Either URL or object_key must be provided when action is 'download'"
      zh_Hans: "要下载的文件对象键。当操作类型为'download'时，必须提供URL或对象键"
      pt_BR: "A chave de objeto do arquivo para download. URL ou object_key devem ser fornecidos quando a ação for 'download'"
    llm_description: "The object key of the file to download from Volcengine TOS. Required if URL is not provided when action is 'download'"
    form: input

extra:
  python:
    source: tools/volcengine_tos.py
